apiVersion: v1
kind: ConfigMap
metadata:
  name: snmp-exporter-config
  namespace: monitoring-system
  labels:
    app.kubernetes.io/name: monitoring
    app.kubernetes.io/component: snmp-exporter
data:
  snmp.yml: |
    # SNMP Exporter configuration for MikroTik RouterOS
    mikrotik:
      walk:
        - 1.3.6.1.2.1.1     # System
        - 1.3.6.1.2.1.2     # Interfaces
        - 1.3.6.1.2.1.25    # Host Resources
        - 1.3.6.1.4.1.14988 # MikroTik Enterprise MIB
      
      metrics:
        - name: sysUpTime
          oid: 1.3.6.1.2.1.1.3
          type: gauge
          help: System uptime in hundredths of seconds
        
        - name: sysDescr
          oid: 1.3.6.1.2.1.1.1
          type: DisplayString
          help: System description
        
        - name: ifInOctets
          oid: 1.3.6.1.2.1.2.2.1.10
          type: counter
          help: Incoming octets on interface
          indexes:
          - labelname: ifIndex
            type: gauge
        
        - name: ifOutOctets
          oid: 1.3.6.1.2.1.2.2.1.16
          type: counter
          help: Outgoing octets on interface
          indexes:
          - labelname: ifIndex
            type: gauge
        
        - name: mikrotik_cpu_usage
          oid: 1.3.6.1.4.1.14988.1.1.3.14
          type: gauge
          help: MikroTik CPU usage percentage
        
        - name: mikrotik_memory_total
          oid: 1.3.6.1.2.1.25.2.2.0
          type: gauge
          help: Total memory in bytes
        
        - name: mikrotik_memory_used
          oid: 1.3.6.1.2.1.25.2.3.1.6
          type: gauge
          help: Used memory in bytes
      
      version: 3
      auth:
        security_level: authPriv
        username: ZSEL-SNMP-v3
        password: CHANGE_SNMP_AUTH_PASSWORD
        auth_protocol: SHA256
        priv_protocol: AES256
        priv_password: CHANGE_SNMP_ENCR_PASSWORD
